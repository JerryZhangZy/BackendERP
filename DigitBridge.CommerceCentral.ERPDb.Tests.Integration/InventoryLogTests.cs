
              
    

//-------------------------------------------------------------------------
// This document is generated by T4
// It will overwrite your changes, please keep it as it is
// <copyright company="DigitBridge">
//     Copyright (c) DigitBridge Inc.  All rights reserved.
// </copyright>
//-------------------------------------------------------------------------
using System;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.CompilerServices;
using System.Text;
using System.Threading.Tasks;
using Microsoft.Extensions.Configuration;
using Xunit;
using DigitBridge.CommerceCentral.YoPoco;
using DigitBridge.Base.Utility;
using DigitBridge.CommerceCentral.XUnit.Common;
using Bogus;

namespace DigitBridge.CommerceCentral.ERPDb.Tests.Integration
{
    public partial class InventoryLogTests
    {
        [Fact]
        public void InventoryAddList_Test()
        {
            var list = FakerData.Generate(10);
            var logUuid = Guid.NewGuid().ToString();


            var svc = new InventoryLog(DataBaseFactory);
            var batchNum = svc.GetBatchNum();
            list.ForEach(x => {
                x.LogUuid = logUuid;x.BatchNum = batchNum; 
            });
            svc.AddInventoryLogList(list);
            var rlist = svc.GetInventoryLogByLogUuid(logUuid);
            Assert.True(rlist.EqualsList(list));
        }

        [Fact]
        public void InventoryUpdateList_Test()
        {
            var list = FakerData.Generate(10);
            var logUuid = Guid.NewGuid().ToString();

            var svc = new InventoryLog(DataBaseFactory);
            var batchNum = svc.GetBatchNum();
            list.ForEach(x => {
                x.LogUuid = logUuid; x.BatchNum = batchNum;
            });
            svc.AddInventoryLogList(list);
            var rlist = svc.GetInventoryLogByLogUuid(logUuid).ToList();
            var testTag = Guid.NewGuid().ToString();
            rlist.ForEach(x => x.SKU = testTag);
            svc.UpdateInventoryLogList(rlist);
            var tlist = svc.GetInventoryLogByLogUuid(logUuid).ToList();
            Assert.True(rlist.EqualsList(tlist));
        }
    }
}



