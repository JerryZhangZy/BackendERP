


//-------------------------------------------------------------------------
// This document is generated by T4
// It will overwrite your changes, please keep it as it is
// <copyright company="DigitBridge">
//     Copyright (c) DigitBridge Inc.  All rights reserved.
// </copyright>
//-------------------------------------------------------------------------
using System;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.CompilerServices;
using System.Text;
using System.Threading.Tasks;
using Microsoft.Extensions.Configuration;
using Xunit;
using DigitBridge.CommerceCentral.YoPoco;
using DigitBridge.Base.Utility;
using DigitBridge.CommerceCentral.XUnit.Common;
using Bogus;

namespace DigitBridge.CommerceCentral.ERPDb.Tests.Integration
{
    public partial class VendorTests
    {
        public static async Task<List<Vendor>> AddAsync(IDataBaseFactory dbFactory, int masterAccountNum, int profileNum, int count)
        {
            List<Vendor> vendors = new List<Vendor>();
            for (int i = 0; i < count; i++)
            {
                try
                {
                    var data = GetFakerData().Generate();
                    data.MasterAccountNum = masterAccountNum;
                    data.ProfileNum = profileNum;
                    data.SetDataBaseFactory(dbFactory);
                    var success = await data.SaveAsync();
                    if (!success)
                    {
                        i -= 1;
                    }
                    else

                        vendors.Add(data);
                }
                catch (Exception e)
                {
                    i -= 1;
                } 
            }
            return vendors;
        }
    }
}



