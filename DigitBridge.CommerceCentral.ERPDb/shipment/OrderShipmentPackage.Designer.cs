              
              
    

//-------------------------------------------------------------------------
// This document is generated by T4
// It will overwrite your changes, please keep it as it is
// <copyright company="DigitBridge">
//     Copyright (c) DigitBridge Inc.  All rights reserved.
// </copyright>
//-------------------------------------------------------------------------
using System;
using System.Collections.Generic;
using System.Data;
using System.Linq;
using System.Web;
using System.Threading.Tasks;
using System.Xml.Serialization;
using System.Text;
using Newtonsoft.Json;
using DigitBridge.Base.Utility;
using DigitBridge.CommerceCentral.YoPoco;

namespace DigitBridge.CommerceCentral.ERPDb
{
    /// <summary>
    /// Represents a OrderShipmentPackage.
    /// NOTE: This class is generated from a T4 template - you should not modify it manually.
    /// </summary>
    [Serializable()]
    [ExplicitColumns]
    [TableName("OrderShipmentPackage")]
    [PrimaryKey("OrderShipmentPackageNum", AutoIncrement = true)]
    [UniqueId("OrderShipmentPackageUuid")]
    [DtoName("OrderShipmentPackageDto")]
    public partial class OrderShipmentPackage : TableRepository<OrderShipmentPackage, long>
    {

        public OrderShipmentPackage() : base() {}
        public OrderShipmentPackage(IDataBaseFactory dbFactory): base(dbFactory) {}

        #region Fields - Generated 
		[ResultColumn(Name = "OrderShipmentPackageNum", IncludeInAutoSelect = IncludeInAutoSelect.Yes)] 
		protected long _orderShipmentPackageNum; 
		[XmlIgnore, IgnoreCompare] 
		public virtual long OrderShipmentPackageNum
		{
			get => _orderShipmentPackageNum;
			set => _orderShipmentPackageNum = value;
		}
		[XmlIgnore, IgnoreCompare] 
		public override long RowNum
		{
			get => OrderShipmentPackageNum.ToLong();
			set => OrderShipmentPackageNum = value.ToLong();
		}
		[JsonIgnore, XmlIgnore, IgnoreCompare] 
		public override bool IsNew => OrderShipmentPackageNum <= 0; 
        [Column("DatabaseNum",SqlDbType.Int,NotNull=true,IsDefault=true)]
        private int _databaseNum;

        [Column("MasterAccountNum",SqlDbType.Int,NotNull=true,IsDefault=true)]
        private int _masterAccountNum;

        [Column("ProfileNum",SqlDbType.Int,NotNull=true,IsDefault=true)]
        private int _profileNum;

        [Column("ChannelNum",SqlDbType.Int,NotNull=true,IsDefault=true)]
        private int _channelNum;

        [Column("ChannelAccountNum",SqlDbType.Int,NotNull=true,IsDefault=true)]
        private int _channelAccountNum;

        [Column("OrderShipmentNum",SqlDbType.BigInt,NotNull=true,IsDefault=true)]
        private long _orderShipmentNum;

        [Column("PackageID",SqlDbType.NVarChar,NotNull=true,IsDefault=true)]
        private string _packageID;

        [Column("PackageType",SqlDbType.Int,NotNull=true,IsDefault=true)]
        private int _packageType;

        [Column("PackagePatternNum",SqlDbType.Int,NotNull=true,IsDefault=true)]
        private int _packagePatternNum;

        [Column("PackageTrackingNumber",SqlDbType.VarChar,NotNull=true,IsDefault=true)]
        private string _packageTrackingNumber;

        [Column("PackageReturnTrackingNumber",SqlDbType.VarChar,NotNull=true,IsDefault=true)]
        private string _packageReturnTrackingNumber;

        [Column("PackageWeight",SqlDbType.Decimal,NotNull=true,IsDefault=true)]
        private decimal _packageWeight;

        [Column("PackageLength",SqlDbType.Decimal,NotNull=true,IsDefault=true)]
        private decimal _packageLength;

        [Column("PackageWidth",SqlDbType.Decimal,NotNull=true,IsDefault=true)]
        private decimal _packageWidth;

        [Column("PackageHeight",SqlDbType.Decimal,NotNull=true,IsDefault=true)]
        private decimal _packageHeight;

        [Column("PackageVolume",SqlDbType.Decimal,NotNull=true,IsDefault=true)]
        private decimal _packageVolume;

        [Column("PackageQty",SqlDbType.Decimal,NotNull=true,IsDefault=true)]
        private decimal _packageQty;

        [Column("ParentPackageNum",SqlDbType.BigInt,NotNull=true,IsDefault=true)]
        private long _parentPackageNum;

        [Column("HasChildPackage",SqlDbType.Bit,NotNull=true,IsDefault=true)]
        private bool _hasChildPackage;

        [Column("OrderShipmentUuid",SqlDbType.VarChar,NotNull=true,IsDefault=true)]
        private string _orderShipmentUuid;

        [Column("OrderShipmentPackageUuid",SqlDbType.VarChar,NotNull=true,IsDefault=true)]
        private string _orderShipmentPackageUuid;

        #endregion Fields - Generated 

        #region Properties - Generated 
		[IgnoreCompare] 
		public override string UniqueId => OrderShipmentPackageUuid; 
		public override void CheckUniqueId() 
		{
			if (string.IsNullOrEmpty(OrderShipmentPackageUuid)) 
				OrderShipmentPackageUuid = Guid.NewGuid().ToString(); 
		}
		/// <summary>
		/// (Readonly) Database Number. <br> Display: false, Editable: false.
		/// </summary>
        public virtual int DatabaseNum
        {
            get
            {
				return _databaseNum; 
            }
            set
            {
				_databaseNum = value; 
				OnPropertyChanged("DatabaseNum", value);
            }
        }

		/// <summary>
		/// (Readonly) Login user account. <br> Display: false, Editable: false.
		/// </summary>
        public virtual int MasterAccountNum
        {
            get
            {
				return _masterAccountNum; 
            }
            set
            {
				_masterAccountNum = value; 
				OnPropertyChanged("MasterAccountNum", value);
            }
        }

		/// <summary>
		/// (Readonly) Login user profile. <br> Display: false, Editable: false.
		/// </summary>
        public virtual int ProfileNum
        {
            get
            {
				return _profileNum; 
            }
            set
            {
				_profileNum = value; 
				OnPropertyChanged("ProfileNum", value);
            }
        }

		/// <summary>
		/// (Readonly) The channel which sells the item. Refer to Master Account Channel Setting. <br> Title: Channel: Display: true, Editable: false
		/// </summary>
        public virtual int ChannelNum
        {
            get
            {
				return _channelNum; 
            }
            set
            {
				_channelNum = value; 
				OnPropertyChanged("ChannelNum", value);
            }
        }

		/// <summary>
		/// (Readonly) The unique number of this profileâ€™s channel account. <br> Title: Shipping Carrier: Display: false, Editable: false
		/// </summary>
        public virtual int ChannelAccountNum
        {
            get
            {
				return _channelAccountNum; 
            }
            set
            {
				_channelAccountNum = value; 
				OnPropertyChanged("ChannelAccountNum", value);
            }
        }

		/// <summary>
		/// (Readonly) Shipment Unique Number. Required, <br> Title: Shipment Number Display: true, Editable: false.
		/// </summary>
        public virtual long OrderShipmentNum
        {
            get
            {
				return _orderShipmentNum; 
            }
            set
            {
				_orderShipmentNum = value; 
				OnPropertyChanged("OrderShipmentNum", value);
            }
        }

		/// <summary>
		/// (Readonly) Package ID. <br> Title: Package Id, Display: true, Editable: false
		/// </summary>
        public virtual string PackageID
        {
            get
            {
				return _packageID?.TrimEnd(); 
            }
            set
            {
				_packageID = value.TruncateTo(50); 
				OnPropertyChanged("PackageID", value);
            }
        }

		/// <summary>
		/// Package Type. <br> Title: Package Type, Display: true, Editable: true
		/// </summary>
        public virtual int PackageType
        {
            get
            {
				return _packageType; 
            }
            set
            {
				_packageType = value; 
				OnPropertyChanged("PackageType", value);
            }
        }

		/// <summary>
		/// Package Pattern. <br> Title: Package Pattern, Display: true, Editable: true
		/// </summary>
        public virtual int PackagePatternNum
        {
            get
            {
				return _packagePatternNum; 
            }
            set
            {
				_packagePatternNum = value; 
				OnPropertyChanged("PackagePatternNum", value);
            }
        }

		/// <summary>
		/// Package TrackingNumber. <br> Title: Tracking Number, Display: true, Editable: true
		/// </summary>
        public virtual string PackageTrackingNumber
        {
            get
            {
				return _packageTrackingNumber?.TrimEnd(); 
            }
            set
            {
				_packageTrackingNumber = value.TruncateTo(50); 
				OnPropertyChanged("PackageTrackingNumber", value);
            }
        }

		/// <summary>
		/// Return TrackingNumber. <br> Title: Return Tracking Number, Display: true, Editable: true
		/// </summary>
        public virtual string PackageReturnTrackingNumber
        {
            get
            {
				return _packageReturnTrackingNumber?.TrimEnd(); 
            }
            set
            {
				_packageReturnTrackingNumber = value.TruncateTo(50); 
				OnPropertyChanged("PackageReturnTrackingNumber", value);
            }
        }

		/// <summary>
		/// Weight. <br> Title: Weight, Display: true, Editable: true
		/// </summary>
        public virtual decimal PackageWeight
        {
            get
            {
				return _packageWeight; 
            }
            set
            {
				_packageWeight = value; 
				OnPropertyChanged("PackageWeight", value);
            }
        }

		/// <summary>
		/// Length. <br> Title: Length, Display: true, Editable: true
		/// </summary>
        public virtual decimal PackageLength
        {
            get
            {
				return _packageLength; 
            }
            set
            {
				_packageLength = value; 
				OnPropertyChanged("PackageLength", value);
            }
        }

		/// <summary>
		/// Width. <br> Title: Width, Display: true, Editable: true
		/// </summary>
        public virtual decimal PackageWidth
        {
            get
            {
				return _packageWidth; 
            }
            set
            {
				_packageWidth = value; 
				OnPropertyChanged("PackageWidth", value);
            }
        }

		/// <summary>
		/// Height. <br> Title: Height, Display: true, Editable: true
		/// </summary>
        public virtual decimal PackageHeight
        {
            get
            {
				return _packageHeight; 
            }
            set
            {
				_packageHeight = value; 
				OnPropertyChanged("PackageHeight", value);
            }
        }

		/// <summary>
		/// Volume. <br> Title: Volume, Display: true, Editable: true
		/// </summary>
        public virtual decimal PackageVolume
        {
            get
            {
				return _packageVolume; 
            }
            set
            {
				_packageVolume = value; 
				OnPropertyChanged("PackageVolume", value);
            }
        }

		/// <summary>
		/// Qty. <br> Title: Qty, Display: true, Editable: true
		/// </summary>
        public virtual decimal PackageQty
        {
            get
            {
				return _packageQty; 
            }
            set
            {
				_packageQty = value; 
				OnPropertyChanged("PackageQty", value);
            }
        }

		/// <summary>
		/// Parent Package Num. <br> Title: Parent Package, Display: true, Editable: true
		/// </summary>
        public virtual long ParentPackageNum
        {
            get
            {
				return _parentPackageNum; 
            }
            set
            {
				_parentPackageNum = value; 
				OnPropertyChanged("ParentPackageNum", value);
            }
        }

		/// <summary>
		/// Has Child Package. <br> Title: Has Child, Display: true, Editable: true
		/// </summary>
        public virtual bool HasChildPackage
        {
            get
            {
				return _hasChildPackage; 
            }
            set
            {
				_hasChildPackage = value; 
				OnPropertyChanged("HasChildPackage", value);
            }
        }

		/// <summary>
		/// Shipment uuid. <br> Display: false, Editable: false.
		/// </summary>
        public virtual string OrderShipmentUuid
        {
            get
            {
				return _orderShipmentUuid?.TrimEnd(); 
            }
            set
            {
				_orderShipmentUuid = value.TruncateTo(50); 
				OnPropertyChanged("OrderShipmentUuid", value);
            }
        }

		/// <summary>
		/// Shipment Pachage uuid. <br> Display: false, Editable: false.
		/// </summary>
        public virtual string OrderShipmentPackageUuid
        {
            get
            {
				return _orderShipmentPackageUuid?.TrimEnd(); 
            }
            set
            {
				_orderShipmentPackageUuid = value.TruncateTo(50); 
				OnPropertyChanged("OrderShipmentPackageUuid", value);
            }
        }



        #endregion Properties - Generated 

        #region Methods - Parent

		[JsonIgnore, XmlIgnore, IgnoreCompare]
		private OrderShipmentData Parent { get; set; }
		public OrderShipmentData GetParent() => Parent;
		public OrderShipmentPackage SetParent(OrderShipmentData parent)
		{
			Parent = parent;
			return this;
		}
        #endregion Methods - Parent

		#region Methods - Children OrderShipmentShippedItem
		protected IList<OrderShipmentShippedItem> _OrderShipmentShippedItemDeleted;
		public IList<OrderShipmentShippedItem> AddOrderShipmentShippedItemDeleted(IList<OrderShipmentShippedItem> del)
		{
			if (_OrderShipmentShippedItemDeleted is null)
				_OrderShipmentShippedItemDeleted = new List<OrderShipmentShippedItem>();
			foreach (var d in del)
				_OrderShipmentShippedItemDeleted.Add(d);
			return del;
		}
		public OrderShipmentShippedItem AddOrderShipmentShippedItemDeleted(OrderShipmentShippedItem del)
		{
			if (_OrderShipmentShippedItemDeleted is null)
				_OrderShipmentShippedItemDeleted = new List<OrderShipmentShippedItem>();
			_OrderShipmentShippedItemDeleted.Add(del);
			return del;
		}
		public void SetOrderShipmentShippedItemDeleted(IList<OrderShipmentShippedItem> del) =>
			_OrderShipmentShippedItemDeleted = del;
		public void ClearOrderShipmentShippedItemDeleted() =>
			_OrderShipmentShippedItemDeleted.Clear();
		protected IList<OrderShipmentShippedItem> _OrderShipmentShippedItem;
		[IgnoreCompare]
		public IList<OrderShipmentShippedItem> OrderShipmentShippedItem
		{
			get
			{
				if (_OrderShipmentShippedItem is null)
					OrderShipmentShippedItem = new List<OrderShipmentShippedItem>();
				return _OrderShipmentShippedItem;
			}
			set
			{
				_OrderShipmentShippedItem = value;
				CheckIntegrityOrderShipmentShippedItem();
			}
		}
		public IList<OrderShipmentShippedItem> SetChildrenOrderShipmentShippedItem(IList<OrderShipmentShippedItem> children)
		{
			var childrenList = children.ToList();
			OrderShipmentShippedItem = childrenList.Where(x => !string.IsNullOrEmpty(OrderShipmentPackageUuid) && x.OrderShipmentPackageUuid == OrderShipmentPackageUuid).ToList();
			return OrderShipmentShippedItem;
		}
		public IList<OrderShipmentShippedItem> GetChildrenOrderShipmentShippedItem()
		{
			return OrderShipmentShippedItem;
		}
		public IList<OrderShipmentShippedItem> GetChildrenDeletedOrderShipmentShippedItem()
		{
			return _OrderShipmentShippedItemDeleted;
		}
		public IList<OrderShipmentShippedItem> CheckIntegrityOrderShipmentShippedItem()
		{
			if (OrderShipmentShippedItem == null)
				return OrderShipmentShippedItem;
			foreach (var child in OrderShipmentShippedItem.Where(x => x != null))
				CheckIntegrityOrderShipmentShippedItem(child);
			return OrderShipmentShippedItem;
		}
		public OrderShipmentShippedItem CheckIntegrityOrderShipmentShippedItem(OrderShipmentShippedItem child)
		{
			if (child == null)
				return child;
			CheckUniqueId();
			child.SetParent(Parent);
			if (child.OrderShipmentPackageUuid != OrderShipmentPackageUuid) child.OrderShipmentPackageUuid = OrderShipmentPackageUuid;
			child.CheckIntegrity();
			return child;
		}
		public IList<OrderShipmentShippedItem> LoadOrderShipmentShippedItem()
		{
			if (string.IsNullOrEmpty(OrderShipmentPackageUuid)) return null;
			OrderShipmentShippedItem = dbFactory.Find<OrderShipmentShippedItem>("WHERE OrderShipmentPackageUuid = @0 ORDER BY RowNum ", OrderShipmentPackageUuid).ToList();
			return OrderShipmentShippedItem;
		}
		public async Task<IList<OrderShipmentShippedItem>> LoadOrderShipmentShippedItemAsync()
		{
			if (string.IsNullOrEmpty(OrderShipmentPackageUuid)) return null;
			OrderShipmentShippedItem = (await dbFactory.FindAsync<OrderShipmentShippedItem>("WHERE OrderShipmentPackageUuid = @0 ORDER BY RowNum ", OrderShipmentPackageUuid)).ToList();
			return OrderShipmentShippedItem;
		}
		public OrderShipmentShippedItem NewOrderShipmentShippedItem()
		{
			CheckUniqueId();
			var child = new OrderShipmentShippedItem(dbFactory);
			child.SetParent(Parent);
			child.OrderShipmentPackageUuid = OrderShipmentPackageUuid;
			child.CheckIntegrity();
			return child;
		}
		public IList<OrderShipmentShippedItem> AddOrderShipmentShippedItem(OrderShipmentShippedItem child)
		{
			if (child == null)
				child = NewOrderShipmentShippedItem();
			CheckIntegrityOrderShipmentShippedItem(child);
			OrderShipmentShippedItem.AddOrReplace(child);
			return OrderShipmentShippedItem;
		}
		public IList<OrderShipmentShippedItem> RemoveOrderShipmentShippedItem(OrderShipmentShippedItem child)
		{
			if (child == null) return null;
			OrderShipmentShippedItem.Remove(child);
			return OrderShipmentShippedItem;
		}
		#endregion Methods - Children OrderShipmentShippedItem

        #region Methods - Generated 
        public override void ClearMetaData()
        {
			base.ClearMetaData(); 
			OrderShipmentPackageUuid = Guid.NewGuid().ToString(); 
			_orderShipmentPackageNum = 0; 
            return;
        }

        public override OrderShipmentPackage Clear()
        {
            base.Clear();
			_orderShipmentPackageNum = default(long); 
			_databaseNum = default(int); 
			_masterAccountNum = default(int); 
			_profileNum = default(int); 
			_channelNum = default(int); 
			_channelAccountNum = default(int); 
			_orderShipmentNum = default(long); 
			_packageID = String.Empty; 
			_packageType = default(int); 
			_packagePatternNum = default(int); 
			_packageTrackingNumber = String.Empty; 
			_packageReturnTrackingNumber = String.Empty; 
			_packageWeight = default(decimal); 
			_packageLength = default(decimal); 
			_packageWidth = default(decimal); 
			_packageHeight = default(decimal); 
			_packageVolume = default(decimal); 
			_packageQty = default(decimal); 
			_parentPackageNum = default(long); 
			_hasChildPackage = false; 
			_orderShipmentUuid = String.Empty; 
			_orderShipmentPackageUuid = String.Empty; 
            ClearChildren();
            return this;
        }

        public override OrderShipmentPackage CheckIntegrity()
        {
            CheckUniqueId();
			CheckIntegrityOrderShipmentShippedItem();
            CheckIntegrityOthers();
            return this;
        }

        public virtual OrderShipmentPackage ClearChildren()
        {
			OrderShipmentShippedItem = new List<OrderShipmentShippedItem>();
            return this;
        }

        public virtual OrderShipmentPackage NewChildren()
        {
			OrderShipmentShippedItem = new List<OrderShipmentShippedItem>();
            return this;
        }

        public virtual void CopyChildrenFrom(OrderShipmentPackage data)
        {
            if (data is null) return;
			var lstDeleted = OrderShipmentShippedItem?.CopyFrom(data.OrderShipmentShippedItem); 
			SetOrderShipmentShippedItemDeleted(lstDeleted); 
			CheckIntegrityOrderShipmentShippedItem(); 
            return;
        }

		public static IList<OrderShipmentPackage> FindByOrderShipmentUuid(IDataBaseFactory dbFactory, string orderShipmentUuid)
		{
			return dbFactory.Find<OrderShipmentPackage>("WHERE OrderShipmentUuid = @0 ORDER BY OrderShipmentPackageNum ", orderShipmentUuid).ToList();
		}
		public static long CountByOrderShipmentUuid(IDataBaseFactory dbFactory, string orderShipmentUuid)
		{
			return dbFactory.Count<OrderShipmentPackage>("WHERE OrderShipmentUuid = @0 ", orderShipmentUuid);
		}
		public static async Task<IList<OrderShipmentPackage>> FindByAsyncOrderShipmentUuid(IDataBaseFactory dbFactory, string orderShipmentUuid)
		{
			return (await dbFactory.FindAsync<OrderShipmentPackage>("WHERE OrderShipmentUuid = @0 ORDER BY OrderShipmentPackageNum ", orderShipmentUuid)).ToList();
		}
		public static async Task<long> CountByAsyncOrderShipmentUuid(IDataBaseFactory dbFactory, string orderShipmentUuid)
		{
			return await dbFactory.CountAsync<OrderShipmentPackage>("WHERE OrderShipmentUuid = @0 ", orderShipmentUuid);
		}

		public override OrderShipmentPackage ConvertDbFieldsToData()
		{
			base.ConvertDbFieldsToData();
			return this;
		}
		public override OrderShipmentPackage ConvertDataFieldsToDb()
		{
			base.ConvertDataFieldsToDb();
			return this;
		}

        #endregion Methods - Generated 
    }
}



