              
//-------------------------------------------------------------------------
// This document is generated by T4
// It will overwrite your changes, please keep it as it is
// <copyright company="DigitBridge">
//     Copyright (c) DigitBridge Inc.  All rights reserved.
// </copyright>
//-------------------------------------------------------------------------
using System;
using System.Collections.Generic;
using System.Text;
using DigitBridge.Base.Common;
using DigitBridge.Base.Utility;
using DigitBridge.CommerceCentral.ERPDb;
using DigitBridge.CommerceCentral.YoPoco;
using Helper = DigitBridge.CommerceCentral.ERPDb.PoHeaderHelper;
using ItemsHelper = DigitBridge.CommerceCentral.ERPDb.PoItemsHelper;

namespace DigitBridge.CommerceCentral.ERPMdl
{
    public class PurchaseOrderQuery : QueryObject<PurchaseOrderQuery>
    {
        // Table prefix which use in this sql query
        protected static string PREFIX = Helper.TableAllies;
        protected static string ITEMSPREFIX = ItemsHelper.TableAllies;

        // Filter fields
        protected QueryFilter<DateTime> _PoDateFrom = new QueryFilter<DateTime>("PoDateFrom", "PoDate", PREFIX, FilterBy.ge, SqlQuery._SqlMinDateTime,isDate:true);
        public QueryFilter<DateTime> PoDateFrom => _PoDateFrom;

        protected QueryFilter<DateTime> _PoDateTo = new QueryFilter<DateTime>("PoDateTo", "PoDate", PREFIX, FilterBy.le, SqlQuery._AppMaxDateTime,isDate:true);
        public QueryFilter<DateTime> PoDateTo => _PoDateTo;

        protected EnumQueryFilter<SalesOrderStatus> _PoStatus = new EnumQueryFilter<SalesOrderStatus>("PoStatus", "PoStatus", PREFIX, FilterBy.eq, -1);
        public EnumQueryFilter<SalesOrderStatus> PoStatus => _PoStatus;

        protected EnumQueryFilter<SalesOrderType> _PoType = new EnumQueryFilter<SalesOrderType>("PoType", "PoType", PREFIX, FilterBy.eq, -1);
        public EnumQueryFilter<SalesOrderType> PoType => _PoType;

        public PurchaseOrderQuery() : base(PREFIX)
        {
            AddFilter(_PoDateFrom);
            AddFilter(_PoDateTo);
            AddFilter(_PoStatus);
            AddFilter(_PoType);
        }

        public override void InitQueryFilter()
        {
            _PoDateFrom.FilterValue = DateTime.Today.AddDays(-30);
            _PoDateTo.FilterValue = DateTime.Today.AddDays(7);
        }
    }
}
