              
//-------------------------------------------------------------------------
// This document is generated by T4
// It will overwrite your changes, please keep it as it is
// <copyright company="DigitBridge">
//     Copyright (c) DigitBridge Inc.  All rights reserved.
// </copyright>
//-------------------------------------------------------------------------
using System;
using System.Collections.Generic;
using System.Text;
using DigitBridge.Base.Common;
using DigitBridge.Base.Utility;
using DigitBridge.CommerceCentral.ERPDb;
using DigitBridge.CommerceCentral.YoPoco;
using Helper = DigitBridge.CommerceCentral.ERPDb.ApInvoiceHeaderHelper;

namespace DigitBridge.CommerceCentral.ERPMdl
{
    public class ApInvoiceQuery : QueryObject<ApInvoiceQuery>
    {
        // Table prefix which use in this sql query
        protected static string PREFIX = Helper.TableAllies;

        // Filter fields
        protected QueryFilter<string> _ApInvoiceUuid = new QueryFilter<string>("ApInvoiceUuid", "ApInvoiceUuid", PREFIX, FilterBy.eq, string.Empty, isNVarChar: true);
        public QueryFilter<string> ApInvoiceUuid => _ApInvoiceUuid;


        protected QueryFilter<string> _ApInvoiceNum = new QueryFilter<string>("ApInvoiceNum", "ApInvoiceNum", PREFIX, FilterBy.eq, string.Empty, isNVarChar: true);
        public QueryFilter<string> ApInvoiceNum => _ApInvoiceNum;


        protected QueryFilter<long> _ApInvoiceType = new QueryFilter<long>("ApInvoiceType", "ApInvoiceType", PREFIX, FilterBy.eq, 0);
        public QueryFilter<long> ApInvoiceType => _ApInvoiceType;


        protected QueryFilter<long> _ApInvoiceStatus = new QueryFilter<long>("ApInvoiceStatus", "ApInvoiceStatus", PREFIX, FilterBy.eq, 0);
        public QueryFilter<long> ApInvoiceStatus => _ApInvoiceStatus;


        protected QueryFilter<DateTime> _ApInvoiceDateFrom = new QueryFilter<DateTime>("ApInvoiceDateFrom", "ApInvoiceDate", PREFIX, FilterBy.ge, SqlQuery._SqlMinDateTime, isDate: true);
        public QueryFilter<DateTime> ApInvoiceDateFrom => _ApInvoiceDateFrom;

        protected QueryFilter<DateTime> _ApInvoiceDateTo = new QueryFilter<DateTime>("ApInvoiceDateTo", "ApInvoiceDate", PREFIX, FilterBy.le, SqlQuery._SqlMinDateTime, isDate: true);
        public QueryFilter<DateTime> ApInvoiceDateTo => _ApInvoiceDateTo;

        //protected QueryFilter<DateTime> _ApInvoiceTime = new QueryFilter<DateTime>("ApInvoiceTime", "ApInvoiceTime", PREFIX, FilterBy.le, SqlQuery._AppMaxDateTime, isDate: true);
        //public QueryFilter<DateTime> ApInvoiceTime => _ApInvoiceTime;


        protected QueryFilter<string> _VendorUuid = new QueryFilter<string>("VendorUuid", "VendorUuid", PREFIX, FilterBy.eq, string.Empty, isNVarChar: true);
        public QueryFilter<string> VendorUuid => _VendorUuid;


        protected QueryFilter<string> _VendorName = new QueryFilter<string>("VendorName", "VendorName", PREFIX, FilterBy.eq, string.Empty, isNVarChar: true);
        public QueryFilter<string> VendorName => _VendorName;


        protected QueryFilter<string> _VendorInvoiceNum = new QueryFilter<string>("VendorInvoiceNum", "VendorInvoiceNum", PREFIX, FilterBy.eq, string.Empty, isNVarChar: true);
        public QueryFilter<string> VendorInvoiceNum => _VendorInvoiceNum;

        protected QueryFilter<DateTime> _VendorInvoiceDate = new QueryFilter<DateTime>("VendorInvoiceDate ", "VendorInvoiceDate", PREFIX, FilterBy.ge, SqlQuery._SqlMinDateTime, isDate: true);
        public QueryFilter<DateTime> VendorInvoiceDate => _VendorInvoiceDate;


        protected QueryFilter<DateTime> _DueDate = new QueryFilter<DateTime>("DueDate", "DueDate", PREFIX, FilterBy.ge, SqlQuery._SqlMinDateTime, isDate: true);
        public QueryFilter<DateTime> DueDate => _DueDate;


        protected QueryFilter<DateTime> _BillDate = new QueryFilter<DateTime>("BillDate", "BillDate", PREFIX, FilterBy.ge, SqlQuery._SqlMinDateTime, isDate: true);
        public QueryFilter<DateTime> BillDate => _BillDate;




        public ApInvoiceQuery() : base(PREFIX)
        {
            AddFilter(_ApInvoiceUuid);
            AddFilter(_ApInvoiceNum);
            AddFilter(_ApInvoiceType);
            AddFilter(_ApInvoiceStatus);
            AddFilter(_ApInvoiceDateFrom);
            AddFilter(_ApInvoiceDateTo);
            AddFilter(_VendorUuid);
            AddFilter(_VendorName);
            AddFilter(_VendorInvoiceNum);
            AddFilter(_VendorInvoiceDate);
            AddFilter(_DueDate);
            AddFilter(_BillDate);
        }

        public override void InitQueryFilter()
        {
            //_OrderDateFrom.FilterValue = DateTime.Today.AddDays(-30);
            //_OrderDateTo.FilterValue = DateTime.Today.AddDays(7);
        }

        /// <summary>
        /// get all ap invoice by vendorNum
        /// </summary>
        /// <param name="vendorNum"></param>
        public void InitForNewPaymet(string vendorNum)
        {
            _ApInvoiceStatus.FilterValue = (int)InvoiceStatusEnum.Outstanding;
            _ApInvoiceNum.FilterValue = vendorNum;

            _ApInvoiceDateFrom.FilterValue = DateTime.Today.AddYears(-5);//TODO. this is a tmp begin date. make sure this logic.
            _ApInvoiceDateTo.FilterValue = DateTime.Today;
        }
    }

   
}
